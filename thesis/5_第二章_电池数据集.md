## 2.1 引言

锂离子电池在充放电循环中不可避免地经历性能退化，通常采用容量作为电池性能退化指标，随着充放电周期增加，电池容量逐渐退化，直至达到某一约定阈值，称此时电池寿命终止。本文的后续章节使用以深度学习为基础的数据驱动方法研究锂离子电池健康状态估计和剩余寿命预测方法，为了得到精确稳定的结果，作为模型输入的样本规模和质量非常重要。基于此，本章首先介绍锂离子电池的工作原理并据此介绍锂离子电池随充放电循环性能退化的机理，继而分析锂离子在充放电过程中的重要参数，这两部分研究有助于模型构建之前的特征工程和特征选择过程。最后，介绍本文实验所用数据集并根据锂离子电池的参数特性和本文后续使用的建模方法对输入数据的要求介绍对锂离子电池数据进行预处理的方法。

## 2.2 锂离子电池工作原理

现代工业发展和人口增长带来了能源需求的巨大挑战，锂离子电池作为一种新型高性能环境友好型能量存储装置，已被广泛应用于可再生能源储备系统、电动汽车和各类电子产品等场景，在越来越多领域发挥着重要作用。

通常以电池电极材料（正极体系）作为锂离子电池的分类依据，基于此，目前常见的锂离子电池主要为钴酸锂电池（LCO）、磷酸铁锂（LFP）和三元镍钴锰（NMC/NCM）电池。其中，钴酸锂电池是第一代商业化锂离子电池的正极材料，其技术成熟、循环能力好且电压平台高，但考虑到钴元素的成本和安全性，钴酸锂电池主要应用于小型电子设备电池而非动力电池；磷酸铁锂电池能量密度高、安全性好、循环寿命长且环保性好，在客车、物流车等领域有着不可替代的优势，在专用车领域市场占有率逐步提升。三元材料电池使用锂镍钴锰氧化物材料作为正极，其在能量密度方面相比两种传统电极材料有明显优势，但目前对三元锂离子电池的研究尚未成熟，循环寿命和安全性问题是其大规模应用的主要限制因素。综上，本节以磷酸铁锂电池为例，介绍其工作原理和老化机理。

磷酸铁锂的正极材料为磷酸铁锂（$LiFePO_{4}$），负极材料通常为石墨，充放电过程中，正极反应、负极反应和总反应的电化学方程分别为【式2-1】【式2-2】和【式2-3】。具体地，充电过程中锂离子电池正极铁氧化，锂离子脱离正极通过聚合物隔膜向负极迁移，这一过程称为脱锂；负极石墨还原，锂离子嵌入石墨负极的微孔中，这一过程称为嵌锂。放电过程中，锂离子电池负极石墨氧化脱锂，锂离子向正极迁移，正极铁还原嵌锂。嵌锂的程度，即充电过程中嵌入石墨负极和放电过程中回到磷酸铁锂正极的锂离子越多，放电容量越高。

$$LiFePO_{4} \rightleftharpoons Li_{1-x}FePO_{4} + xLi^{+} + xe^{-} \tag{2-1}$$
$$xLi^{+} + xe^{-} + 6C \rightleftharpoons Li_{x}C_{6} \tag{2-2}$$
$$LiFePO_{4} + 6xC \rightleftharpoons Li_{1-x}FePO_{4} + Li_{x}C_{6} \tag{2-3}$$

依据上述锂离子电池的工作原理，锂离子电池在循环过程中的老化机理如下。在充放电循环中，锂离子电池的老化机理可以大致分为可循环锂存量损失和活性物质损失两类。更具体地，固体电解质相界面膜（Solid Electrolyte Interphase Film，SEI Film）的形成和分解、电解质分解和锂离子沉积导致锂存量损失。负极石墨剥离、粘结剂分解和集流体腐蚀造成的电接触损失以及电极颗粒破裂导致活性材料损失。

## 2.3 锂离子电池参数分析

容量变化曲线

（CC-CV充电）

充电电流曲线
充电电压曲线
充电温度曲线

放电电流曲线
放电电压曲线
放电温度曲线

多步快充充放电曲线（和SOC）

不同充放电周期电池参数的变化对比

## 2.4 锂离子电池数据集分析和预处理

### 2.4.1 NASA PCoE 电池数据集

美国国家航空航天局卓越故障预测研究中心（National Aeronautics and Space Administration Prognostics Center of Excellence，NASA PCoE）

NASA PCoE电池数据集是最被广泛采用的电池数据集之一。

### 2.4.2 CALCE 电池数据集

马里兰大学先进寿命周期工程中心（Center for Advanced Life Cycle Engineering，CALCE）


CALCE电池数据集是另一个最被广泛采用的数据集。

### 2.4.3 TRI 电池数据集

该数据集由丰田研究院（Toyota Research Institute，TRI）发布。

### 2.4.4 UNIBO Powertools 电池数据集

该数据集由博洛尼亚大学（University of Bologna，UNIBO）发布。

### 2.4.5 数据预处理

电池充放电过程中的各种测量量具有不同的量纲，导致不同测量量在数值上有很大差异。如对常用的18650电池，采用其充放电电压、电流和温度三个测量量作为模型输入，大部分数据集采用伏特（V）、安培（A）和摄氏度（℃）作为上述测量量量纲，使得其数值有数量级上的差异。若不做预处理直接将数据送入模型将导致模型收敛速度慢，且使得模型在训练过程中将大量级测量量（上述例子中即温度）作为主要特征而忽略小量级测量量（在上述例子中即电压和电流）最终导致模型不稳定、泛化性能弱。

从而，在输入模型训练和验证前需要对数据进行预处理以克服上述问题。实现上，使用归一化（normalization）作为数据预处理手段。模型的损失函数（Loss Function）计算往往假定样本的特征具有零均值且具有同阶方差，归一化能够满足这一要求，使得计算模型损失样本特征能够被统一处理从而一定程度上提高模型预测准确性。另一方面，归一化操作统一了样本各种属性的量纲，使算法寻求最优解的空间表现出更高的对称性从而加快模型参数优化过程，提高模型收敛速度。

常用的归一化方法如零-均值归一化（Z-score Normalization）和最大-最小值归一化（Min-Max Normalization）。前者将数据放缩到均值为0、方差为1的标准正态分布上，后者通过样本中的最大值和最小值对数据进行线性变换、将其放缩到给定范围（通常为 $[0, 1]$ 或 $[-1, 1]$）内。考虑前者对异常样本点敏感且具有较高的计算复杂性，同时本课题适用的电池测量数据未必服从正态分布的前提，本文采用后者进行数据预处理。【式2-1】给出最大-最小值归一化的计算方法。

$$x_{i}^{k*} = \frac{x_{i}^{k} - \min{\left ( \mathbf{x}  \right ) }}{\max{\left ( \mathbf{x}  \right ) } - \min{\left ( \mathbf{x}  \right ) }}, i \in 1, 2, \ldots, n \tag{2-1}$$

$$x_{i}^{k*} = \frac{x_{i}^{k} - \min{\left ( \mathbf{x}  \right ) }}{\max{\left ( \mathbf{x}  \right ) } - \min{\left ( \mathbf{x}  \right ) }} \times 2 - 1, i \in 1, 2, \ldots, n\tag{2-2}$$

其中 $\mathbf{x}$ 表示采集到的某一测量量的所有数据。$\mathbf{x^{k}} = \left \{ x_{1}^{k}, x_{2}^{k}, \ldots , x_{n}^{k} \right \}$ 为 $\mathbf{x}$ 的一个子集，从数据集构造的角度叙述，对于原始时间序列数据，往往引入滑动窗口（sliding window）实现有监督时间序列样本构造，此时 $\mathbf{x^{k}}$ 表示数据分块（data chunk）从模型训练策略的角度说明，通常采用批次训练（batch training）的策略将数据输入模型，此时 $\mathbf{x^{k}}$ 表示批数据（data batch）。$x_{i}^{k*}$ 为 $x_{i}^{k}$ 归一化后的结果。【式2-1】适用于取值恒正的输入，将输入数据线性地变换至 $[0, 1]$ 区间上，当考虑对如充放电电流数据进行数据归一化时，采用【式2-2】将数据归一化至 $[-1, 1]$ 区间上以区分充电段和放电段。


## 2.5 本章小结

本章简要介绍了锂离子电池的工作原理和失效机理，简要介绍了本文使用的四个开源数据集，重点展示锂离子电池充放电循环中的电压、电流、温度和充放电电量等状态量变化趋势以及数据归一化方法，为后续模型构建奠定了基础。